{
    "space_utils": {
        "enabled": true,
        "auto_transform": true,
        "strict_mode": true,
        "prefer_native_fallback": false,
        "transformer": {
            "verbose": false
        },
        "mappings": {
            "registry": "../mappings/function-registry.json",
            "enabled_categories": {
                "array_operations": true,
                "string_operations": true,
                "file_operations": true,
                "json_operations": true,
                "time_operations": true,
                "async_operations": true,
                "data_structures": true,
                "validation": true,
                "error_handling": true,
                "caching": true,
                "math_operations": true,
                "hashing": true
            },
            "custom_registries": [
                ".claude/mappings/team-mappings.json",
                ".claude/mappings/custom-mappings.json",
                ".claude/mappings/project-mappings.json"
            ],
            "priority_overrides": {
                "team": 60,
                "custom": 70,
                "project": 80
            }
        },
        "patterns": {
            "use_entity": true,
            "use_collection": true,
            "use_pipeline": true,
            "use_concurrent": true,
            "use_monads": true
        }
    },
    "phpstan": {
        "enforcement": "mandatory",
        "config_path": "$SPACE_UTILS_PATH/coding-standards/phpstan.neon",
        "level": "max",
        "fallback_configs": [
            "phpstan.neon",
            "phpstan.neon.dist"
        ],
        "custom_rules": {
            "enabled": true,
            "rules": [
                "NoSuperglobalsInAppRule",
                "NoEnvOutsideConfigRule",
                "NoMockeryInProductionRule",
                "NoTestEnvCheckRule"
            ]
        }
    },
    "environment_separation": {
        "enabled": true,
        "app_directory_restrictions": {
            "forbidden_superglobals": ["$_ENV", "$_SERVER"],
            "forbidden_functions": ["env", "getenv"],
            "allowed_alternatives": ["config()"]
        },
        "test_production_separation": {
            "forbidden_in_app": [
                "Mockery::",
                "\\Mockery\\",
                "isTestMode()",
                "env('APP_ENV') === 'testing'"
            ],
            "required_patterns": [
                "dependency_injection",
                "interface_based_testing"
            ]
        }
    },
    "project": {
        "type": "php",
        "framework": "hyperf",
        "php_version": "8.3"
    }
}